# Cell Systems 2020
This repository contains examples of the MATLAB code used to generate the results in our paper **"Architectures for combined transcriptional and translational
resource allocation controllers"**

**Contact**

Please contact Alexander Darlington through Github for queries relating to this code.

**Abstract**

Recent work on engineering synthetic cellular circuitry has shown that non-regulatory interactions mediated by competition for gene expression resources can result in degraded performance or even
failure. Transcriptional and translational resource allocation controllers based on orthogonal circuit specific gene expression machineries have separately been shown to improve modularity and circuit
performance. Here, we investigate the potential advantages, challenges, and design trade-offs involved in combining transcriptional and translational controllers into a `dual resource allocation control
system'. We show that separately functional translational and transcriptional controllers cannot generally be combined without extensive redesign. We analyse candidate architectures for direct
design of dual resource allocation controllers, and propose modiffications to improve their performance (in terms of decoupling and expression level) and robustness. We show that dual controllers can be
built that are composed only of orthogonal gene expression resources, and demonstrate that such designs offer both superior performance and robustness characteristics.

**Files enclosed**

- ``libmodels`` is a folder containing the ODE models for the controllers described in the paper.
- The ``design_dual_*controllername*_bio_imp.m`` scripts generate and simulate the biological implementable designs for their respective controller.
- ``analyse_simulation_coupling_max_min.m`` analyses the outputs of ``design_dual_*controllername*_bio_imp.m``to determine controller performance in terms of stability, coupling and protein output. These results are stored in the ``.mat`` files ``model_*controllername*_coupling.mat``, ``model_*controllername*_max_min.mat`` and ``model_*controllername*_simulation_settings.mat``
- ``determine_best_designs.m`` determines the two dimensional score metric of each controller and identifies the best 200. See main paper for a further discussion. The results are stored in ``model_*controllername*_best_controllers.mat`` and ``model_*controllername*_different_metrics.mat``.
- ``figure_isolated_controllers.m`` reproduces Figure 1.                                   
- ``figure_uber_or_frag_or.m`` reproduces Figure 2.                   
- ``figure_sqtr_or_op_or.m`` reproduces Figures 3C-F               
- ``figure_var_frag_or.m`` reproduces Figures 3H-J. 
- ``figure_ortho_op_or.m`` reproduces Figure 4.
- The ``.mat`` files generated by the scripts above have been included in this repository to allow recreation of the figures.

**Proceedure to design the best numerical design of each architecture**

Controllers where designed by first running the respective design scripts ``design_dual_*controllername*_bio_imp.m`` which outputs the simulation dynamics to a ``.txt`` file for each controller design. These results are then processed by ``analyse_simulation_coupling_max_min.m`` to produce ``.mat`` files. These files are analysed by ``determine_best_designs.m`` which outputs ``.mat`` files containing the best designs of each controller architecture.

**Reference**

Alexander P. S. Darlington and Declan G. Bates "Architectures for combined transcriptional and translational
resource allocation controllers", *to appear in* *Cell Systems* [doi: tbc](doi: "doi: tbc")